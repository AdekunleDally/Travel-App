var Client=function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e),n.d(e,"handleSubmit",(function(){return a})),n.d(e,"GeoNameCityData",(function(){return d})),n.d(e,"postData",(function(){return y})),n.d(e,"weatherbitData",(function(){return l})),n.d(e,"postWeatherbitData",(function(){return h})),n.d(e,"getPixaBayData",(function(){return s})),n.d(e,"postPixaBayData",(function(){return u})),n.d(e,"getCountryData",(function(){return r})),n.d(e,"postcountryData",(function(){return i})),n.d(e,"updateGeoUI",(function(){return m})),n.d(e,"updateWeatherUI",(function(){return g})),n.d(e,"updatePixaBayUI",(function(){return p})),n.d(e,"updateCountryUI",(function(){return f}));document.querySelector(".card"),document.querySelector(".details"),document.querySelector(".timeOfDay"),document.querySelector("div .icon img");const o=document.querySelector(".Travel-Input-form");async function a(t){o.addEventListener("submit",a),t.preventDefault();const e=document.getElementById("city").value,n=document.getElementById("tripDate").value;o.reset(),""===e||""===n?alert("Please Enter the name of city you are travelling to as well as the date you intend to travel "):d(e,"adekunledally").then((function(t){const e=y("http://localhost:8080/geoNameDataRoute",{cityName:t.geonames[0].toponymName,latitude:t.geonames[0].lat,longitude:t.geonames[0].lng,countryName:t.geonames[0].countryName,population:t.geonames[0].population,countryCode:t.geonames[0].countryCode});console.log("Post GeoName results: ",e),m();l(t.geonames[t.geonames.length-1].lat,t.geonames[t.geonames.length-1].lng).then((function(t){const e=h("http://localhost:8080/weatherbitDataRoute",{country_code:t.country_code,timezone:t.timezone,appMaxTemp:t.data[0].app_max_temp,appMinTemp:t.data[0].app_min_temp,dateTime:t.data[0].datetime,highTemp:t.data[0].high_temp,lowTemp:t.data[0].low_temp,sunriseTs:t.data[0].sunrise_ts,sunsetTs:t.data[0].sunset_ts,weatherDescription:t.data[0].weather.description});console.log("Post WeatherbitResult Results: ",e),g()}));const n=t.geonames[t.geonames.length-1];console.log("The latestGeoData is: ",n),s(c,`${n.city} ${n.country}`).then((function(t){console.log("The pixaBayData is",t.hits[0]);const{userImageURL:e}=t.hits[0],n=u("http://localhost:8080/pixaBayDataRoute",{comments:t.hits[0].comments,downloads:t.hits[0].downloads,favorites:t.hits[0].favorites,id:t.hits[0].id,imageHeight:t.hits[0].imageHeight,imageSize:t.hits[0].imageSize,imageWidth:t.hits[0].imageWidth,largeImageURL:t.hits[0].largeImageURL,likes:t.hits[0].likes,pageURL:t.hits[0].pageURL,previewHeight:t.hits[0].previewHeight,previewURL:t.hits[0].previewURL,previewWidth:t.hits[0].previewWidth,tags:t.hits[0].tags,type:t.hits[0].type,user:t.hits[0].user,userImageURL:t.hits[0].userImageURL,user_id:t.hits[0].user_id,views:t.hits[0].views,webformatHeight:t.hits[0].webformatHeight,webformatURL:t.hits[0].webformatURL,webformatWidth:t.hits[0].webformatWidth});console.log("Post pixaBayData Results: ",n),p()}));const o=t.geonames[t.geonames.length-1];console.log("GEODATAS :",o),r(o.countryName).then((function(t){const e=i("http://localhost:8080/countryDataRoute",{capital:t[0].capital,callingCodes:t[0].callingCodes,region:t[0].region,flag:t[0].flag,languages:t[0].languages[0].name,currencies:t[0].currencies[0].symbol,demonym:t[0].demonym});console.log("The countryData Results: ",e),f()}))}))}async function r(t){const e=await fetch("https://restcountries.eu/rest/v2/name/"+t);try{return await e.json()}catch(t){console.log("The error is ",t)}}async function i(t,e){const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});try{return await n.json()}catch(t){console.log("error is",t)}}const c="https://pixabay.com/api/";async function s(t,e){const n=await fetch(`${c}?key=17376454-f5702e95961e06a28713dca48&q=${encodeURIComponent(e)}`);try{return await n.json()}catch(t){console.log("Error here: ",t)}}async function u(t,e){const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});try{return await n.json()}catch(t){console.log("error is",t)}}async function l(t,e){const n=await fetch(`http://api.weatherbit.io/v2.0/forecast/daily?lat=${t}&lon=${e}&key=7c66768c670b451dba52afd5a1bd085a`);try{const t=await n.json();return console.log("The fetched weatherbit data is : ",t),t}catch(t){console.log("Error here: ",t)}}async function h(t,e){const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});try{return await n.json()}catch(t){console.log("error is",t)}}async function d(t,e){const n=await fetch(`http://api.geonames.org/searchJSON?formatted=true&q=${encodeURIComponent(t)}&maxRows=10&lang=es&username=${e}`);try{return await n.json()}catch(t){console.log("The error is ",t)}}async function y(t,e){const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});try{return await n.json()}catch(t){console.log("error is",t)}}async function m(){const t=await fetch("http://localhost:8080/getGeoNameData");try{const e=await t.json();document.querySelector(".details .city").innerHTML=e[0].cityName,document.querySelector(".details .country").innerHTML=e[0].countryName}catch(t){console.log("error is ",t)}}async function g(){const t=await fetch("http://localhost:8080/getWeatherData");try{const e=await t.json();console.log("The UI alWeatherData is : ",e),document.querySelector(".details .weather").innerHTML=e[0].weatherDescription,document.querySelector(".details .tempDisplay .tempClass").innerHTML=e[0].appMaxTemp}catch(t){console.log("error is ",t)}}async function p(){const t=await fetch("http://localhost:8080/getPixaBayData");try{await t.json()}catch(t){console.log("error is ",t)}}async function f(){const t=await fetch("http://localhost:8080/getCountryData");try{const e=await t.json();console.log("The UI alCountryData is : ",e),document.querySelector(".city-region").innerHTML=e[0].region,document.querySelector(".country-code").innerHTML=e[0].callingCodes[0],document.querySelector(".country-currencies").innerHTML=e[0].currencies,document.querySelector("img .country-flag").innerHTML=e[0].flag,document.querySelector("span .lang-Class").innerHTML=e[0].languages}catch(t){console.log("error is ",t)}}n(0)}]);